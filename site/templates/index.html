<!doctype html>
<html lang="en" id="htmlRoot" data-theme="modern">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{page_title}}</title>
  <meta name="theme-color" content="#0b0c10" />
  <link rel="stylesheet" href="{{base_path}}assets/style.css">
  <link rel="stylesheet" href="{{base_path}}assets/themes.css">
  <script>
    window.__VODCASTS__ = {
      basePath: {{base_path_json}},
      site: {{site_json}}
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
</head>
<body>
  <div class="app" id="app">
    <div class="player" id="player">
      <video id="video" playsinline></video>
      <div class="progress" id="progress" title="Seek">
        <div class="progressFill" id="progressFill"></div>
      </div>
    </div>

    <div class="guideBar" id="guideBar">
      <div class="guideBar-inner">
        <button id="btnSeekBack" class="guideBtn guideBtnSeek" title="-10s">−10</button>
        <button id="btnSeekFwd" class="guideBtn guideBtnSeek" title="+30s">+30</button>
        <div id="guideSeek" class="guideSeek" title="Seek">
          <div id="guideSeekFill" class="guideSeekFill"></div>
        </div>
        <button id="btnChannel" class="guideChannel" title="Channels">—</button>
        <div class="guideNow" id="guideNow">—</div>
        <button id="btnRandom" class="guideBtn" title="Random">Random</button>
        <button id="btnCC" class="guideBtn" title="Subtitles" aria-label="Subtitles">CC</button>
        <button id="btnPlay" class="guideBtn" title="Play/Pause">▶</button>
        <div class="guideTime mono" id="guideTime">00:00</div>
        <div class="guideBar-sleep">
          <button id="btnSleep" class="guideBtn" title="Sleep timer">Sleep</button>
          <div id="sleepMenu" class="sleepMenu" aria-hidden="true">
            <button class="sleepOpt" data-mins="5">5 min</button>
            <button class="sleepOpt" data-mins="15">15 min</button>
            <button class="sleepOpt" data-mins="30">30 min</button>
            <button class="sleepOpt" data-mins="60">1 hr</button>
          </div>
        </div>
        <button id="btnTheme" class="guideBtn" title="Theme">Theme</button>
      </div>
    </div>

    <div id="guidePanel" class="guidePanel" aria-hidden="true">
      <div class="guidePanel-inner">
        <div class="guidePanel-channels" id="guideFeeds"></div>
        <div class="guidePanel-episodes" id="guideEpisodes"></div>
      </div>
      <button id="btnCloseGuide" class="guidePanel-close">✕</button>
    </div>

    <div id="historyPanel" class="historyPanel" aria-hidden="true">
      <div id="historyPanelContent" class="historyPanelContent"></div>
    </div>

    <div id="detailsPanel" class="detailsPanel" aria-hidden="true">
      <div class="detailsHeader">
        <span>Details</span>
        <button id="btnCloseDetails" class="guideBtn">✕</button>
      </div>
      <div class="detailsContent">
        <div id="epTitle" class="detailsTitle">—</div>
        <div id="epSub" class="detailsSub">—</div>
        <div id="epDesc" class="detailsDesc"></div>

        <div class="detailsSplit">
          <div class="detailsChapters">
            <div class="detailsChaptersTitle">Chapters</div>
            <div id="chapters" class="chapters"></div>
          </div>
          <div class="detailsComments">
            <div class="detailsCommentsTitle">Comments</div>
            <div id="commentsPanel" class="commentsPanel">
              <div class="commentsTop">
                <div id="commentsStatus" class="commentsStatus">—</div>
              </div>
              <div id="commentsCaptchaWrap" class="commentsCaptchaWrap" hidden>
                <button type="button" id="captchaBtn" class="guideBtn">Continue</button>
                <div id="hcaptcha-container" style="display:none"></div>
              </div>
              <form id="commentsForm" class="commentsForm" autocomplete="off" hidden>
                <input id="commentName" name="commentName" placeholder="display name (optional)" maxlength="64" />
                <textarea id="commentBody" placeholder="say something…" maxlength="4000" required></textarea>
                <button id="commentSubmit" type="submit" class="guideBtn" disabled>Post @ <span id="commentTime">0:00</span></button>
              </form>
              <div id="commentsList" class="commentsList"></div>
            </div>
          </div>
        </div>

        <div class="detailsLog">
          <div class="detailsLogHeader">
            <span>Log</span>
            <button id="btnClearLog" class="guideBtn">Clear</button>
          </div>
          <div id="logOutput" class="logOutput" role="log"></div>
        </div>
      </div>
    </div>
    <button id="btnHistory" class="cornerBtn cornerBtnLeft" title="History">☰</button>
    <button id="btnDetails" class="cornerBtn" title="Details">⋯</button>
  </div>

  <script src="{{base_path}}assets/app.js" defer></script>
</body>
</html>

